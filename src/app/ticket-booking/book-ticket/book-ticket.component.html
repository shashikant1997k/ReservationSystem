
<div *ngIf="flag" style="display: flex;justify-content: center;margin-top: 6%;">
  <form [formGroup]="bookingForm" (ngSubmit)="onSubmit(bookingForm)" style="width: 20%;border: 1px solid darkgray;
  padding: 3% 5%;">
    <div>
      <input type="text" class="form-control" placeholder="User ID" formControlName="userID">
    </div>
    <div style="margin-top: 6%;">
      <input class="form-control" placeholder="Name" formControlName="name">
    </div>
    <div style="margin-top: 6%;">
      <input type="number" class="form-control" placeholder="No of Seats" formControlName="count">
    </div>

    <button style="margin-top: 6%;width: 70px;padding: 7px;" type="submit" [disabled]="bookingForm.invalid">Book</button>

    <button style="margin-top: 6%;width: 70px;padding: 7px;margin-left: 10%;" (click)="showAllSeats()">All Seat</button>
    <div style="color: red;">{{error}}</div>
  </form>

</div>
<div class="conformation-container" *ngIf="!flag">
  <div style="width: 30%;padding: 10% 0 0 8%;">
    <div class="seat" style="display: flex;width: 75%;">
      <div class="seat-label available " style="height: 1.2rem;width: 8%;"></div>
      <div style="margin: 1.8% 0 0 5%;">Available Seat</div>
    </div>
    <div class="seat" style="padding: 15px 10px;display: flex;width: 75%;">
      <div class="seat-label booked" style="height: 1.2rem;width: 8%;"></div>
      <div style="margin: 1.8% 0 0 5%;">Booked Seat</div>
    </div>
    <div class="seat" style="display: flex;width: 75%;">
      <div class="seat-label selected" style="height: 1.2rem;width: 8%;"></div>
      <div style="margin: 1.8% 0 0 5%;">Selected Seat</div>
    </div>
  </div>
  <div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div  class="seat" *ngIf="seat.row == 1">
          <label class="seat-label" [ngClass] = "seat.status == 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div  class="seat" *ngIf="seat.row == 2" >
          <label class="seat-label" [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 3" >
          <label class="seat-label" [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 4" >
          <label class="seat-label" [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 5" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 6" >
          <label class="seat-label"  [ngClass] = "seat.status == 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 7" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 8" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 9" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 10" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 11" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="seat-row">
      <div  *ngFor ="let seat of bookingInfo.seats">
        <div class="seat" *ngIf="seat.row == 12" >
          <label class="seat-label"  [ngClass] = "seat.status== 'booked' ? (bookingForm.controls.name.value == seat.bookedBy ? 'selected' : 'booked'): 'available'">
            {{seat.seatNo}}</label>
        </div>
      </div>
    </div>
    <div class="new-booking">
      <button style="padding: 7px;" (click)="openBookingForm()"> New Booking</button>
    </div>
  </div>
</div>

